<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>stickynotes</title>
    <link rel="shortcut icon" type="image/x-icon" href="./img/icon_smaller.svg" />
  <link rel="manifest" href="./manifest.json">
  <meta name="theme-color" content="#ffffff">

  <link rel="stylesheet" href="./css/main.css">
  <link rel="stylesheet" href="./css/share.css">
</head>

<body>


  <article>


    <h1 class="share_h1">share your notes</h1>

    <!-- Dropdown menu -->
    <div class="share_note_dropdwon_div">
      <label for="note_select">choose a note:</label>
      <select name="note_select" id="note_select">
        <option value="blank">choose a note</option>
      </select>
    </div>

    <!-- ðŸŸ¨ share_note_svg_div -->
    <div class="share_note_svg_div">
      <svg class="share_note_svg" width="1080" height="1080" preserveAspectRatio="xMidYMid meet" viewBox="0 0 1080 1080" xmlns="http://www.w3.org/2000/svg"
        style="width: 500px; height: 500px; max-width: 80vw; margin: 20px;">
        <defs>
          <style>
            .svg_note_text {
              font-family: Arial;
              font-size: min(max(12px, calc(900px / (var(--text-length) / 20))), 60px);
              color: black;
              white-space: pre-wrap;
              word-wrap: break-word;
              width: 100%;
              height: 100%;
              padding: 20px;
              box-sizing: border-box;
              display: flex;
              align-items: center;
              justify-content: center;
              text-align: center;
              overflow: auto;
            }
          </style>
        </defs>
        <rect width="1080" height="1080" fill="white" />
        <rect x="90" y="90" width="900" height="900" rx="50" ry="50" fill="#FFF8A3" />

        <!-- Text inside the note -->
        <foreignObject x="90" y="90" width="900" height="900">
          <div xmlns="http://www.w3.org/1999/xhtml" style="width: 100%; height: 100%;">
            <div contenteditable="true" class="svg_note_text">Your text will automatically wrap at this width.You can type as much as you want and it will create new lines as needed. Also the more text you have the smaller it is. You can either load notes or edit this text, but anything you type here will not be saved to a note.</div>
          </div>
        </foreignObject>

        <!-- Text at the bottom -->
        <text x="540" y="1040" fill="black" font-size="40" font-family="Arial"
          text-anchor="middle">stickynotes.near</text>
      </svg>
    </div>
    <!-- ðŸŸ¨ share_note_svg_div -->

    <button id="save_SVG_button">SAVE SVG</button>
    <button id="save_SVG_as_PNG_button">SAVE PNG</button>

    <!-- <a>Click This if download does not wokrk on mobile</a> -->

    <p class="mobile_message" style="display: none;">
      â„¹ saving png on mobile may not be working, also svg may not be compatible with all devices.
      <br/>
      for the best experience consider using a laptop.
    </p>


    <footer>
      <p>
        <a href="./">home</a>
        <a href="./app.html"> web app</a>
        <a href="./share.html">share notes</a>
        <a href="./about.html">about</a>
      </p>
      <p>copyright: 2025 by sleet.near</p>
    </footer>

  </article>

  <!-- Additional UI -->
  <!-- <a href="./app.html"><button id="ENTER_BUTTON">ENTER APP</button></a> -->



  <!-- scipt  -->
  <script src="./js/hello.js"></script>
  <script src="./js/share/share_svg_text_size.js"></script>
  <script src="./js/share/share_svg_save.js"></script>
  <script src="./js/share/share_svg_save_as_png.js"></script>
  <script src="./js/share/share_svg_load_text.js"></script>

  <!-- sw  -->
  <script type="module">
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register(new URL('./sw.js', import.meta.url))
          .then(registration => {
            console.log('ServiceWorker registration successful');
          })
          .catch(err => {
            console.log('ServiceWorker registration failed: ', err);
          });
      });
    }
  </script>

</body>

</html>